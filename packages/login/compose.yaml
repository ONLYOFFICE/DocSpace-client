services:
  # running tests from a local folder login/__tests__
  tests-local:
    build:
      context: ../..
      dockerfile: packages/login/Dockerfile
    working_dir: /app
    ports:
      - "5111:5111"
    volumes:
      - ./__tests__:/app/packages/login/__tests__
      - ./playwright.config.ts:/app/packages/login/playwright.config.ts
      - ../../playwright-report/login:/app/playwright-report/login

  # running tests from a remote folder on the develop branch
  tests-git:
    build:
      context: ../..
      dockerfile: packages/login/Dockerfile
    working_dir: /app
    ports:
      - "5111:5111"
    volumes:
      - ../../playwright-report/login:/app/playwright-report/login
